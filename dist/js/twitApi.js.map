{"version":3,"sources":["twitApi.js"],"names":["TwitApi","form","document","querySelector","addEventListener","handleSearch","evt","preventDefault","console","log","term","value","data","op","q","axios","get","API_BASE_URL","params","then","processResults","results","statuses","z","length","resultsUl","resLi","createElement","classList","add","resDiv","resDivInfo","resDivHeader","resDivDigit","resDivAddy","resDivStats","resPrice","resRate","resDist","resImg","appendChild","textContent","user","name","target","href","url","text","src","profile_image_url_https","err","setupListener"],"mappings":"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","sourcesContent":["class TwitApi {\r\n    API_BASE_URL = './twitter-proxy.php'\r\n\r\n    constructor() {\r\n        this.setupListener()\r\n    }\r\n\r\n    setupListener = () => {\r\n        const form = document.querySelector('form[name=\"search_tweets\"]')\r\n        form.addEventListener('submit', this.handleSearch)\r\n    }\r\n\r\n    handleSearch = (evt) => {\r\n        evt.preventDefault()\r\n        console.log('searching....')\r\n\r\n        const term = document.querySelector('input[name=\"term\"]').value\r\n\r\n\r\n        const data = {\r\n            op: 'search_tweets',\r\n            q: term,\r\n        }\r\n\r\n        axios.get(this.API_BASE_URL, { params: data }).then(this.processResults)\r\n    }\r\n\r\n    processResults = (data) => {\r\n        const results = data.data\r\n        console.log('got data: ', results.statuses)\r\n        for (let z = 0; z < results.statuses.length; z++) {\r\n            console.log(z, \"; \", results.statuses[z])\r\n\r\n            let resultsUl = document.querySelector('.result_list')\r\n            let resLi = document.createElement('li')\r\n            resLi.classList.add('res_li')\r\n            let resDiv = document.createElement('a')\r\n            resDiv.classList.add('res_div')\r\n            let resDivInfo = document.createElement('div')\r\n            resDivInfo.classList.add('res_div-info')\r\n            let resDivHeader = document.createElement('h2')\r\n            resDivHeader.classList.add('res_div-head')\r\n            let resDivDigit = document.createElement('p')\r\n            resDivDigit.classList.add('res_div-contact')\r\n            let resDivAddy = document.createElement('p')\r\n            resDivAddy.classList.add('res_div-address')\r\n            let resDivStats = document.createElement('article')\r\n            resDivStats.classList.add('res_div-stats')\r\n            let resPrice = document.createElement('span')\r\n            resPrice.classList.add('res_stats-price')\r\n            let resRate = document.createElement('span')\r\n            resRate.classList.add('res_stats-rate')\r\n            let resDist = document.createElement('span')\r\n            resDist.classList.add('res_stats-dist')\r\n            let resImg = document.createElement('img')\r\n            resImg.classList.add('res_div-img')\r\n\r\n            resultsUl.appendChild(resLi)\r\n            resLi.appendChild(resDiv)\r\n            resDiv.appendChild(resDivInfo)\r\n            resDivInfo.appendChild(resDivHeader)\r\n            resDivInfo.appendChild(resDivDigit)\r\n            resDivInfo.appendChild(resDivAddy)\r\n            resDivInfo.appendChild(resDivStats)\r\n            resDivStats.appendChild(resPrice)\r\n            resDivStats.appendChild(resRate)\r\n            resDivStats.appendChild(resDist)\r\n            resDiv.appendChild(resImg)\r\n\r\n            resDivHeader.textContent = results.statuses[z].user.name\r\n            resDiv.target = \"_blank\"\r\n            resDiv.href = results.statuses[z].user.url\r\n            resDivDigit.textContent = results.statuses[z].text\r\n            // resDivAddy.textContent = results.statuses[z].location.address1 + \", \" + results.statuses[z].location.address2 + \", \" + results.statuses[z].location.city + \", \" + results.statuses[z].location.zip_code\r\n            // resPrice.textContent = results.statuses[z].price\r\n            resImg.src = results.statuses[z].user.profile_image_url_https\r\n        }\r\n    }\r\n\r\n    handleError = (evt) => {\r\n        console.log('ERROR ', err)\r\n    }\r\n\r\n}"],"file":"twitApi.js"}